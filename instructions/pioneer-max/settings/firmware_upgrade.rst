Установка актуальной прошивки и параметров АП
=============================================
Для корректной работы всех систем Pioneer Max рекомендуется устанавливать последнюю актуальную версию прошивки и параметров автопилота. Процедура обновления и настройки происходит с помощью программы  Pioneer Station. 

.. raw:: html

   <div style="position: relative; padding-bottom: 50%; overflow: hidden; margin-bottom:30px;margin-left: 0px;margin-right: 0px;">
        <iframe src="https://www.youtube.com/embed/Ovkf2G-Dzz8" allowfullscreen="" style="position: absolute; width:100%; height: 100%;" frameborder="0"></iframe>
   </div>


.. hint:: Для доступа к USB-порту базовой платы Pioneer Max, вам необходимо будет снять камеру Raspberry Pi Camera.

Инструкция по установке прошивки и стабильных параметров автопилота:

1. Скачайте актуальную версию программы `Pioneer Station`_.
2. Скачайте актуальную версию прошивки `1.6.7185`_ для работы с ROS или стандартную версию |fw_ap_max|.Тестовые и ранние версии прошивок Вы можете найти в разделе :doc:`../../../downloads/software-d`.
3. Скачайте стабильные `параметры автопилота для ROS <https://drive.google.com/uc?export=download&confirm=no_antivirus&id=1h7_B2DjN7hiN_PCSxYsdqPgXFBfr_AHK>`_ или стандартные `Параметры АП для Pioneer Max <https://disk.yandex.ru/d/IrWVG9xBmZaenw>`__
4. Подключите базовую плату Pioneer Max к компьютеру;
5. Запустите Pioneer Station;
6. В правом нижнем углу нажмите «Подключение» --> «По кабелю USB»;
7. В верхнем левом углу нажимите на значок квадрокоптера, затем «Обновление прошивки»;
8. Нажмите «Далее», в окне «Выбор устройства» выберите базовую плату и нажимаем «Далее»;
9. Выберите «Из файла»;
10. В открывшемся проводнике найдите файл «pioneer_max-boot_gs_****.bin», после чего нажмите «Прошить»;
11. Ожидайте окончания прошивки;
12. После перезагрузки платы перейдите в раздел «Параметры автопилота»;
13. Выберите «OPT» и ожидайте перезагрузки базовой платы;
14. Отключите аккумулятор питания из разъёма, затем отключите кабель USB из базовой платы;
15. В правом нижнем углу нажмите «Подключение» --> «По кабелю USB»;
16. Подключите базовую плату к компьютеру по USB кабелю;
17. В правом нижнем углу нажмите «Подключение» --> «По кабелю USB»;
18. Во вкладке «Параметры автопилота» нажмите кнопку «Загрузить из файла» и в проводнике выберите файл «parameters_pioneer_max.properties»;
19. В появившимся окне нажмите «Ок»;
20. Нажмите кнопку «Сохранить изменения на автопилот»;
21. Дождитесь перезагрузки платы и выберите нужную систему позиционирования;
22. Убедитесь, что параметр BoardPioneer_auxUmux равен 1;
23. Если параметр не равен 1, повторите прошивку параметров и выбор системы позиционирования;

.. note:: 
	Если при выборе устройства квадрокоптер не отображается в окне, попробуйте переподключить его и перезапустить программу. Если это не помогло, попробуйте `скачать и установить драйвер порта`_, после чего переподключите "Пионер" и перезапустите программу.

Если Вы столкнулись с проблемой обновления прошивки или работы "Пионера", напишите в техподдержку Геоскан 
support@geoscan.aero

.. _скачать и установить драйвер порта: https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers
.. _Pioneer Station: ../../../programming/pioneer_station/pioneer_station_main.html
.. _1.6.7185: https://drive.google.com/uc?export=download&confirm=no_antivirus&id=13Qm2YY8UcYd9dDmOfHSlHRpk7JiuzOxo