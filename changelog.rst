Changelog
===========

Изменения в версиях автопилота
------------------------------

Автопилот 1.6.9202
~~~~~~~~~~~~~~~~~~
(Список изменений в доработке)

Автопилот 1.6.7747
~~~~~~~~~~~~~~~~~~

#. Обновлённые параметры. Исправлено значение параметра UMux. Теперь оно автоматически = 3. 
#. Добавлен режим полёта по точкам относительно коптера.
#. Управление светодиодами по MavLink

Автопилот 1.6.7482
~~~~~~~~~~~~~~~~~~

#. Полностью перешли на новый протокол передачи данных MavLink для более стабильного соединения и управления;
#. Добавили возможность запускать/остановить lua-script в режиме program напрямую с мобильного телефона;
#. Улучшили работу с pioneer_sdk.

Автопилот 1.6.7459
~~~~~~~~~~~~~~~~~~

Добавлена возможность программирования квадрокоптера на языке Python. Для этого была специально разработана библиотека *pioneer_sdk*. Подробное описание на странице:
:doc:`../../../programming/python/python_main`

Автопилот 1.6.7257
~~~~~~~~~~~~~~~~~~

* Добавлен режим "Failsafe" (экстренной посадки). Квадрокоптер будет совершать автоматическую посадку под собой в месте возникновения неполадки.

  Данный режим будет включаться автоматически при следующих условиях:

  * Разорвалось WiFi соединение;
  * Произошло зависание контроллера ESP32;
  * Превышены задержки в связи между квадрокоптером и телефоном;
  * Закрылось приложение JUMP;
  * Телефон выключился/заблокировался.

  "Failsafe" работает в двух режимах:

  1) С посадкой в точку под собой, где произошла неполадка (по умолчанию, рекомендуемый).

  2) С посадкой в точку взлета с некоторой точностью (отклонение от точки взлета около 1.5 метра) (экспериментальный, использовать с осторожностью. Квадрокоптер летит автономно, препятствия не огибает.)

* Восстановлена корректная работа программируемых RGB светодиодов. Попробуйте встроенные примеры в программе **"Pioneer Station"**

* При включение квадрокоптера, 4 RGB светодиода будут показывать уровень заряда, красный аккумулятор разряжен, ярко-зеленый аккумулятор заряжен.

20/06/2019
------------

1. Обновлена Pioneer Station (`Версия 1.10.0`_)

- Добавлена поддержка нового протокола (1.5) для работы с новой версией автопилота
- Добавлена возможность скачивать логи двумя способами:
- 
	- Через Payload (старый медленный вариант), требуется бутлоадер с поддержкой возможности скачать лог
	- Через Plazlink (новый быстрый метод), требует лишь наличия установленной прошивки с версией протокола 1.5
- Обновлены примеры скриптов LUA для программирования Пионера, оптимизирована структура и комментарии
- Добавлены новые более сложные примеры для составления полетного задания и работы с модулем LED
- Добавлена возможность просматривать логи с автопилота (в МЕНЮ в разделе “Работа с логами”)

.. _Версия 1.10.0: https://dl.geoscan.aero/pioneer/upload/GCS/GEOSCAN_Pioneer_Station.exe 


2. Обновлена прошивка автопилота (Версия 1.5.6173)

- Обновлен протокол до версии 1.5
- Добавлена возможность скачивать лог
- Обновлен алгоритм взлета
- Исправлен баг с генерацией 2-х событий во время взлета, теперь генерируется только одно - **Ev.TAKEOFF_COMPLETE**. Событие Ev.ALTITUDE_REACHED более не используется
- Добавлена проверка старта двигателей при полете по программе

11/02/2019
-----------

1. Обновлена Pioneer Station (`Версия 1.9.1`_)

- Исправлено отображение кода и телеметрии при изменении окна программы
- Исправлено отображение версии автопилота в таблице
- Исправлено уведомление об обновлении прошивки модуля навигации в помещении
- Добавлена ссылка на Changelog в меню-документация


.. _Версия 1.9.1: https://dl.geoscan.aero/pioneer/upload/GCS/archive/1.9.1/GEOSCAN_Pioneer_Station.exe

1/02/2019
-------------

1. Обновлена Pioneer Station(`Версия 1.9.0`_)
 
- Добавлена калибровка акселерометра
- Добавлена калибровка компаса
- Добавлен вывод версии прошивки модуля, установленного на Пионер. Если прошивка устарела, то в таблице ее номер подсвечен и выскакивает окно с предложением обновить.
- Локализация на английский язык, теперь при установке приложения будет возможность выбрать между русским и английским.
- Исправлена ошибка с переключениями между режимами полетов по системе навигации, по GPS или по оптическому позиционированию
- Добавлено решение проблемы с пустым окном сравнения параметров.
 
.. _Версия 1.9.0: https://dl.geoscan.aero/pioneer/upload/GCS/archive/1.9.0/GEOSCAN_Pioneer_Station.exe

2. Обновлена прошивка автопилота (Версия 1.4.4922)
 
- Доработан алгоритм удержания курса.
- Исправлена ошибка с перезагрузкой автопилота при запуске нескольких таймеров.
- В Lua изменен вывод данных с барометра, теперь выводятся не сырые значения, а отфильтрованные автопилотом - нужно для заданий в соревнованиях Робофест.
 
3. Обновлена прошивка модуля системы навигации (Версия 2.1)
 
- Доработан алгоритм захвата данных от излучателей
 
